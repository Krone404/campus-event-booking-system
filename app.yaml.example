runtime: python312
entrypoint: gunicorn -b :$PORT main:app

env_variables:
  # Flask / security
  FLASK_SECRET_KEY: "change-me"          # generate a strong secret for production
  SHOW_DEBUG: "0"                        # set to "1" only if you explicitly want debug info for admin

  # Database (Cloud SQL via Unix socket on App Engine)
  CLOUD_SQL_CONNECTION_NAME: "PROJECT_ID:REGION:INSTANCE_NAME"
  DB_NAME: "campus_events"
  DB_USER: "appuser"
  DB_PASS: "change-me"                  # secret

  # Firestore (secondary DB for audit logs)
  FIRESTORE_DB: "campus-events-fs"       # or leave blank to use default Firestore database

  # Optional: disable Firestore writes (useful for tests / local runs)
  DISABLE_FIRESTORE_LOGS: "0"

automatic_scaling:
  max_instances: 1
