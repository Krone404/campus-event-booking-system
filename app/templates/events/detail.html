{% extends "base.html" %}
{% block content %}
<h1>{{ event.title }}</h1>

<p><strong>Location:</strong> {{ event.location }}</p>
<p><strong>Time:</strong> {{ event.start_time }} to {{ event.end_time }}</p>
<p><strong>Capacity:</strong> {{ event.capacity }}</p>

{% if event.description %}
  <p><strong>Description:</strong><br>{{ event.description }}</p>
{% endif %}

{% if current_user.is_authenticated %}
  <form method="post" action="{{ url_for('events.book_event', event_id=event.id) }}">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <button type="submit">Book</button>
  </form>
{% else %}
  <small><a href="/auth/login">Login</a> to book</small>
{% endif %}

<hr>

{% if maps_embed_url %}
  <h2>Map</h2>
  <iframe
    width="100%"
    height="360"
    style="border:0"
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade"
    src="{{ maps_embed_url }}">
  </iframe>
{% else %}
  <p><small>Map not available (MAPS_API_KEY not set).</small></p>
{% endif %}

{% endblock %}
